<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="A serverless contact form for your website in less than a minute." content="">
    <meta name="Torus" content="">
    <title>Super Easy From</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>

  <body class="p-5 bg-light">
    <!-- CONTACT SECTION -->
    <section class="bg-white py-4">
      <div class="container">
        <div class="row">
					<div class="col-md-6">
							<h4 class="h2 pb-2">Contact Us</h4>
							<form id="super-easy-form" class="" action="#">  
			
									<label for="first" class="small mb-0">firstName</label>
									<input type="text" class="form-control" id="first" name="first" placeholder="first" required>
		
		
									<label for="last" class="small mb-0">lastName</label>
									<input type="text" class="form-control" id="last" name="last" placeholder="last" required>
		
		
									<label for="email" class="small mb-0">email</label>
									<input type="text" class="form-control" id="email" name="email" placeholder="email" required>
		
		
									<h5 id="contact-status" class="text-secondary" style="display:none;">Thanks for Contacting Us</h5>
			
		
									<button class="btn btn-primary mt-3" type="submit" id="super-easy-btn">Send</button>
			
						</form>
					</div>   
        </div>
      </div>         
    </section>

    <!--Javascript-->
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous">
    </script>
    <script>
      $(function(){
        $('#super-easy-form').submit(function(e){
            e.preventDefault();
            var formdata = toJSONString(this);
            console.log(formdata);
            $.ajax({
                type: "POST",
                url: "https://mo9vidflha.execute-api.us-east-1.amazonaws.com/deployment2019-05-14T05-57-43-555Z/",
                dataType: "json",
                contentType: "application/json",
                data: JSON.stringify( {"first": $('#first').val(), "last": $('#last').val(), "email": $('#email').val() } ),
                beforeSend: function(data) {
                    $('#super-easy-btn').prop('disabled', true);
                    $('#super-easy-form :input').prop('disabled', true);
                    $('#contact-status').html('Sending...').show();
                },
                success: function(data) {
                    console.log(data);
                    $('#contact-status').text(`We'll get back to you soon`).show();
                    $('#super-easy-form :input').removeProp('disabled');
                    $('#super-easy-btn').removeProp('disabled');
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    $('#contact-status').text('Error. Please try again soon.').show();
                    $('#super-easy-form :input').removeProp('disabled');
                    $('#super-easy-btn').removeProp('disabled');
                }
            });
        }); 
    
        function toJSONString (form) {
        var obj = {};
        var elements = form.querySelectorAll("input, select, textarea");
        for(var i = 0; i < elements.length; ++i) {
          var element = elements[i];
          var name = element.name;
          var value = element.value;
          if(name) {
            obj[name] = value;
          }
            }
            return JSON.stringify(obj);
        }
      });
    </script>

  </body>

</html>